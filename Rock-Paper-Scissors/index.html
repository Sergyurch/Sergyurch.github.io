<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
</head>
<body>
	<script>
		let playerScore = 0;
		let computerScore = 0;

		game();

		function computerPlay() {
			let random = Math.floor((Math.random() * 3)) + 1;
			return (random == 1) ? "Rock": (random == 2) ? "Paper": "Scissors";
		}
		
		function playOneRound(playerSelection, computerSelection) {
			computerSelection = computerPlay();
			console.log("Computer chooses " +computerSelection +".");
	        if (playerSelection == "Rock" && computerSelection == "Paper") {
	        	computerScore++;
	        	console.log("You lose the round. Paper beats Rock.");
        	} 
        	else if (playerSelection == "Rock" && computerSelection == "Scissors") {
				playerScore++;    
        		console.log("You win the round. Rock beats Scissors.");
        	}
        	else if (playerSelection == "Paper" && computerSelection == "Rock") {
				playerScore++;
        		console.log("You win the round. Rock beats Scissors.");
    		}
    		else if (playerSelection == "Paper" && computerSelection == "Scissors") {
			    computerScore++;
    			console.log("You lose the round. Scissors beat Paper.");
			}
			else if (playerSelection == "Scissors" && computerSelection == "Rock") {
				computerScore++;
				console.log("You lose the round. Rock beats Scissors.");
			}
			else if (playerSelection == "Scissors" && computerSelection == "Paper") {
				playerScore++;
				console.log("You win the round. Scissors beat Paper.");
			}
			else {
				console.log("Draw." +playerSelection +" and " +computerSelection +".");
			}      
		}

		function game() {
			for (let i = 0; i<5; i++) {
			    let playerSelection = prompt('Choose "Rock", "Paper" or "Scissors"');
			    while (playerSelection === '' || playerSelection === null) {
			    	alert('You need to write something');
				    playerSelection = prompt('Choose "Rock", "Paper" or "Scissors"');
			    }
			    while ( !(playerSelection == 'Rock' || playerSelection == 'Paper' || playerSelection == 'Scissors') ) {
			    	alert('You need to write only "Rock", "Paper" or "Scissors"');
				    playerSelection = prompt('Choose "Rock", "Paper" or "Scissors"');
				    playerSelection = playerSelection.slice(0, 1).toUpperCase() + playerSelection.slice(1).toLowerCase();
			    }
			   playOneRound(playerSelection);
		   	}

		   	console.log("Total score: You " +playerScore +", Computer " +computerScore);

		   	if (playerScore > computerScore) {
		   		console.log("You win the game");
		   	} else if (playerScore < computerScore) {
		   		console.log("You lose the game");
		   	} else {
		   		console.log("Draw");
		   	}

		   	console.log("Restart page to play again");
		}

				
	</script>
</body>
</html>